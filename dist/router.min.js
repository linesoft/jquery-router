!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Router=e():t.Router=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.d=function(exports,t,r){e.o(exports,t)||Object.defineProperty(exports,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,exports){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,exports){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,exports,e){t.exports=!e(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,exports){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,exports,e){var r=e(0),n=e(5),o=e(6),i=e(19),s=e(8),c=function(t,e,u){var a,f,h,p,l=t&c.F,y=t&c.G,d=t&c.S,v=t&c.P,m=t&c.B,g=y?r:d?r[e]||(r[e]={}):(r[e]||{}).prototype,exports=y?n:n[e]||(n[e]={}),x=exports.prototype||(exports.prototype={});y&&(u=e);for(a in u)f=!l&&g&&void 0!==g[a],h=(f?g:u)[a],p=m&&f?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,g&&i(g,a,h,t&c.U),exports[a]!=h&&o(exports,a,p),v&&x[a]!=h&&(x[a]=h)};r.core=n,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,exports){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,exports,e){var r=e(13),n=e(18);t.exports=e(2)?function(t,e,o){return r.f(t,e,n(1,o))}:function(t,e,r){return t[e]=r,t}},function(t,exports){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,exports,e){var r=e(21);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,exports,e){var r=e(10);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,exports){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,exports,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e(12),e(22);var n=e(34),o=n.dloc,i=n.dlocHashEmpty,c=n.listener,u=e(35),a=u._every,f=u._flatten,h=u._asyncEverySeries,p=(u.paramifyString,u.regifyString),l=u.terminator,y=function t(e){if(!(this instanceof t))return new t(e);this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),this.mount(e||{})};y.prototype.init=function(t){var e,r=this;return this.handler=function(t){var e=t&&t.newURL||window.location.hash,n=!0===r.history?r.getPath():e.replace(/.*#/,"");r.dispatch("on","/"===n.charAt(0)?n:"/"+n)},c.init(this.handler,this.history),!1===this.history?i()&&t?o.hash=t:i()||r.dispatch("on","/"+o.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(e=i()&&t?t:i()?null:o.hash.replace(/^#/,""))&&window.history.replaceState({},document.title,e):e=this.getPath(),(e||!0===this.run_in_init)&&this.handler()),this},y.prototype.explode=function(){var t=!0===this.history?this.getPath():o.hash;return"/"===t.charAt(1)&&(t=t.slice(1)),t.slice(1,t.length).split("/")},y.prototype.setRoute=function(t,e,r){var n=this.explode();return"number"==typeof t&&"string"==typeof e?n[t]=e:"string"==typeof r?n.splice(t,e,s):n=[t],c.setHash(n.join("/")),n},y.prototype.insertEx=function(t,e,r,n){return"once"===t&&(t="on",r=function(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}(r)),this._insert(t,e,r,n)},y.prototype.getRoute=function(t){var e=t;if("number"==typeof t)e=this.explode()[t];else if("string"==typeof t){var r=this.explode();e=r.indexOf(t)}else e=this.explode();return e},y.prototype.destroy=function(){return c.destroy(this.handler),this},y.prototype.getPath=function(){var t=window.location.pathname;return"/"!==t.substr(0,1)&&(t="/"+t),t},y.prototype.configure=function(t){t=t||{};for(var e=0;e<this.methods.length;e++)this._methods[this.methods[e]]=!0;return this.recurse=t.recurse||this.recurse||!1,this.async=t.async||!1,this.delimiter=t.delimiter||"/",this.strict=void 0===t.strict||t.strict,this.notfound=t.notfound,this.resource=t.resource,this.history=t.html5history&&this.historySupport||!1,this.run_in_init=!0===this.history&&!1!==t.run_handler_in_init,this.convert_hash_in_init=!0===this.history&&!1!==t.convert_hash_in_init,this.every={after:t.after||null,before:t.before||null,on:t.on||null},this},y.prototype.param=function(t,e){":"!==t[0]&&(t=":"+t);var r=new RegExp(t,"g");return this.params[t]=function(t){return t.replace(r,e.source||e)},this},y.prototype.on=y.prototype.route=function(t,e,r){var n=this;return r||"function"!=typeof e||(r=e,e=t,t="on"),Array.isArray(e)?e.forEach(function(e){n.on(t,e,r)}):(e.source&&(e=e.source.replace(/\\\//gi,"/")),Array.isArray(t)?t.forEach(function(t){n.on(t.toLowerCase(),e,r)}):(e=e.split(new RegExp(this.delimiter)),e=l(e,this.delimiter),void this.insert(t,this.scope.concat(e),r)))},y.prototype.path=function(t,e){var r=this.scope.length;t.source&&(t=t.source.replace(/\\\//gi,"/")),t=t.split(new RegExp(this.delimiter)),t=l(t,this.delimiter),this.scope=this.scope.concat(t),e.call(this,this),this.scope.splice(r,t.length)},y.prototype.dispatch=function(t,e,r){function n(){i.last=s.after,i.invoke(i.runlist(s),i,r)}var o,i=this,s=this.traverse(t,e.replace(/\?.*/,""),this.routes,""),c=this._invoked;return this._invoked=!0,s&&0!==s.length?("forward"===this.recurse&&(s=s.reverse()),(o=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last])&&o.length>0&&c?(this.async?this.invoke(o,this,n):(this.invoke(o,this),n()),!0):(n(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:t,path:e},r),!1)},y.prototype.invoke=function(t,e,r){var n,o=this;this.async?(n=function(r,o){if(Array.isArray(r))return h(r,n,o);"function"==typeof r&&r.apply(e,(t.captures||[]).concat(o))},h(t,n,function(){r&&r.apply(e,arguments)})):(n=function(r){return Array.isArray(r)?a(r,n):"function"==typeof r?r.apply(e,t.captures||[]):void("string"==typeof r&&o.resource&&o.resource[r].apply(e,t.captures||[]))},a(t,n))},y.prototype.traverse=function(t,e,n,o,i){function s(t){function e(t){for(var r=[],n=0;n<t.length;n++)r[n]=Array.isArray(t[n])?e(t[n]):t[n];return r}function r(t){for(var e=t.length-1;e>=0;e--)Array.isArray(t[e])?(r(t[e]),0===t[e].length&&t.splice(e,1)):i(t[e])||t.splice(e,1)}if(!i)return t;var n=e(t);return n.matched=t.matched,n.captures=t.captures,n.after=t.after.filter(i),r(n),n}var c,u,a,f,h=[];if(e===this.delimiter&&n[t])return f=[[n.before,n[t]].filter(Boolean)],f.after=[n.after].filter(Boolean),f.matched=!0,f.captures=[],s(f);for(var p in n)if(n.hasOwnProperty(p)&&(!this._methods[p]||this._methods[p]&&"object"===r(n[p])&&!Array.isArray(n[p]))){if(c=u=o+this.delimiter+p,this.strict||(u+="["+this.delimiter+"]?"),!(a=e.match(new RegExp("^"+u))))continue;if(a[0]&&a[0]==e&&n[p][t])return f=[[n[p].before,n[p][t]].filter(Boolean)],f.after=[n[p].after].filter(Boolean),f.matched=!0,f.captures=a.slice(1),this.recurse&&n===this.routes&&(f.push([n.before,n.on].filter(Boolean)),f.after=f.after.concat([n.after].filter(Boolean))),s(f);if(f=this.traverse(t,e,n[p],c),f.matched)return f.length>0&&(h=h.concat(f)),this.recurse&&(h.push([n[p].before,n[p].on].filter(Boolean)),f.after=f.after.concat([n[p].after].filter(Boolean)),n===this.routes&&(h.push([n.before,n.on].filter(Boolean)),f.after=f.after.concat([n.after].filter(Boolean)))),h.matched=!0,h.captures=f.captures,h.after=f.after,s(h)}return!1},y.prototype.insert=function(t,e,n,o){var i,s,c,u;if(e=e.filter(function(t){return t&&t.length>0}),o=o||this.routes,u=e.shift(),/\:|\*/.test(u)&&!/\\d|\\w/.test(u)&&(u=p(u,this.params)),e.length>0)return o[u]=o[u]||{},this.insert(t,e,n,o[u]);if(u||e.length||o!==this.routes){if(i=r(o[u]),s=Array.isArray(o[u]),o[u]&&!s&&"object"==i)switch(r(o[u][t])){case"function":return void(o[u][t]=[o[u][t],n]);case"object":return void o[u][t].push(n);case"undefined":return void(o[u][t]=n)}else if("undefined"==i)return c={},c[t]=n,void(o[u]=c);throw new Error("Invalid route context: "+i)}switch(r(o[t])){case"function":return void(o[t]=[o[t],n]);case"object":return void o[t].push(n);case"undefined":return void(o[t]=n)}},y.prototype.extend=function(t){var e,r=this,n=t.length;for(e=0;e<n;e++)!function(t){r._methods[t]=!0,r[t]=function(){var e=1===arguments.length?[t,""]:[t];r.on.apply(r,e.concat(Array.prototype.slice.call(arguments)))}}(t[e])},y.prototype.runlist=function(t){var e=this.every&&this.every.before?[this.every.before].concat(f(t)):f(t);return this.every&&this.every.on&&e.push(this.every.on),e.captures=t.captures,e.source=t.source,e},y.prototype.mount=function(t,e){if(t&&"object"===(void 0===t?"undefined":r(t))&&!Array.isArray(t)){var n=this;e=e||[],Array.isArray(e)||(e=e.split(n.delimiter));for(var o in t)t.hasOwnProperty(o)&&function(e,o){var i=e,s=e.split(n.delimiter),c=r(t[e]),u=""===s[0]||!n._methods[s[0]],a=u?"on":i;if(u&&(i=i.slice((i.match(new RegExp("^"+n.delimiter))||[""])[0].length),s.shift()),u&&"object"===c&&!Array.isArray(t[e]))return o=o.concat(s),void n.mount(t[e],o);u&&(o=o.concat(i.split(n.delimiter)),o=l(o,n.delimiter)),n.insert(a,o,t[e])}(o,e.slice(0))}},t.exports=y},function(t,exports,e){var r=e(4);r(r.S,"Array",{isArray:e(9)})},function(t,exports,e){var r=e(14),n=e(15),o=e(17),i=Object.defineProperty;exports.f=e(2)?Object.defineProperty:function(t,e,s){if(r(t),e=o(e,!0),r(s),n)try{return i(t,e,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(t[e]=s.value),t}},function(t,exports,e){var r=e(1);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,exports,e){t.exports=!e(2)&&!e(3)(function(){return 7!=Object.defineProperty(e(16)("div"),"a",{get:function(){return 7}}).a})},function(t,exports,e){var r=e(1),n=e(0).document,o=r(n)&&r(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},function(t,exports,e){var r=e(1);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,exports){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,exports,e){var r=e(0),n=e(6),o=e(20),i=e(7)("src"),s=Function.toString,c=(""+s).split("toString");e(5).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,s,u){var a="function"==typeof s;a&&(o(s,"name")||n(s,"name",e)),t[e]!==s&&(a&&(o(s,i)||n(s,i,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=s:u?t[e]?t[e]=s:n(t,e,s):(delete t[e],n(t,e,s)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||s.call(this)})},function(t,exports){var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},function(t,exports){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,exports,e){"use strict";var r=e(4),n=e(23)(2);r(r.P+r.F*!e(33)([].filter,!0),"Array",{filter:function(t){return n(this,t,arguments[1])}})},function(t,exports,e){var r=e(8),n=e(24),o=e(25),i=e(27),s=e(29);t.exports=function(t,e){var c=1==t,u=2==t,a=3==t,f=4==t,h=6==t,p=5==t||h,l=e||s;return function(e,s,y){for(var d,v,m=o(e),g=n(m),x=r(s,y,3),w=i(g.length),b=0,_=c?l(e,w):u?l(e,0):void 0;w>b;b++)if((p||b in g)&&(d=g[b],v=x(d,b,m),t))if(c)_[b]=v;else if(v)switch(t){case 3:return!0;case 5:return d;case 6:return b;case 2:_.push(d)}else if(f)return!1;return h?-1:a||f?f:_}}},function(t,exports,e){var r=e(10);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,exports,e){var r=e(26);t.exports=function(t){return Object(r(t))}},function(t,exports){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,exports,e){var r=e(28),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},function(t,exports){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,exports,e){var r=e(30);t.exports=function(t,e){return new(r(t))(e)}},function(t,exports,e){var r=e(1),n=e(9),o=e(31)("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,exports,e){var r=e(32)("wks"),n=e(7),o=e(0).Symbol,i="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=i&&o[t]||(i?o:n)("Symbol."+t))}).store=r},function(t,exports,e){var r=e(0),n=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return n[t]||(n[t]={})}},function(t,exports,e){var r=e(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,exports,e){"use strict";function r(){return""===n.hash||"#"===n.hash}var n=document.location,o={mode:"modern",hash:n.hash,history:!1,check:function(){var t=n.hash;t!=this.hash&&(this.hash=t,this.onHashChanged())},fire:function(){"modern"===this.mode?!0===this.history?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(t,e){function r(t){for(var e=0,r=Router.listeners.length;e<r;e++)Router.listeners[e](t)}var n=this;if(this.history=e,Router.listeners||(Router.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))!0===this.history?setTimeout(function(){window.onpopstate=r},500):window.onhashchange=r,this.mode="modern";else{var o=document.createElement("iframe");o.id="state-frame",o.style.display="none",document.body.appendChild(o),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&n.check()}),window.setInterval(function(){n.check()},50),this.onHashChanged=r,this.mode="legacy"}return Router.listeners.push(t),this.mode},destroy:function(t){if(Router&&Router.listeners)for(var e=Router.listeners,r=e.length-1;r>=0;r--)e[r]===t&&e.splice(r,1)},setHash:function(t){return"legacy"===this.mode&&this.writeFrame(t),!0===this.history?(window.history.pushState({},document.title,t),this.fire()):n.hash="/"===t[0]?t:"/"+t,this},writeFrame:function(t){var e=document.getElementById("state-frame"),r=e.contentDocument||e.contentWindow.document;r.open(),r.write("<script>_hash = '"+t+"'; onload = parent.listener.syncHash;<script>"),r.close()},syncHash:function(){var t=this._hash;return t!=n.hash&&(n.hash=t),this},onHashChanged:function(){}};t.exports={dloc:n,dlocHashEmpty:r,listener:o}},function(t,exports,e){"use strict";function r(t,e){for(var r=0;r<t.length;r+=1)if(!1===e(t[r],r,t))return}function n(t){for(var e=[],r=0,n=t.length;r<n;r++)e=e.concat(t[r]);return e}function o(t,e,r){if(!t.length)return r();var n=0;!function o(){e(t[n],function(e){e||!1===e?(r(e),r=function(){}):(n+=1,n===t.length?r():o())})}()}function i(t,e,r){r=t;for(var n in e)if(e.hasOwnProperty(n)&&(r=e[n](t))!==t)break;return r===t?"([._a-zA-Z0-9-%()]+)":r}function s(t,e){for(var r,n=0,o="";r=t.substr(n).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)n=r.index+r[0].length,r[0]=r[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),o+=t.substr(0,r.index)+r[0];t=o+=t.substr(n);var s,c,u=t.match(/:([^\/]+)/gi);if(u){c=u.length;for(var a=0;a<c;a++)s=u[a],t="::"===s.slice(0,2)?s.slice(1):t.replace(s,i(s,e))}return t}function c(t,e,r,n){var o,i=0,s=0,c=0,r=(r||"(").toString(),n=(n||")").toString();for(o=0;o<t.length;o++){var u=t[o];if(u.indexOf(r,i)>u.indexOf(n,i)||~u.indexOf(r,i)&&!~u.indexOf(n,i)||!~u.indexOf(r,i)&&~u.indexOf(n,i)){if(s=u.indexOf(r,i),c=u.indexOf(n,i),~s&&!~c||!~s&&~c){t=[t.slice(0,(o||1)+1).join(e)].concat(t.slice((o||1)+1))}i=(c>s?c:s)+1,o=0}else i=0}return t}t.exports={_every:r,_flatten:n,_asyncEverySeries:o,paramifyString:i,regifyString:s,terminator:c}}])});